<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ELEC/XJEL3662 Calculator project: low_level_funcs_tiva.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ELEC/XJEL3662 Calculator project
   &#160;<span id="projectnumber">2019/20 (software v1.04)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">low_level_funcs_tiva.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="low__level__funcs__tiva_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Keyboard functions</div></td></tr>
<tr class="memitem:a16812cd5e683764a97364fe31cafaf2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#a16812cd5e683764a97364fe31cafaf2a">InitKeyboardPorts</a> (void)</td></tr>
<tr class="separator:a16812cd5e683764a97364fe31cafaf2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157ee05ac709769f0d39507d68664c82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#a157ee05ac709769f0d39507d68664c82">WriteKeyboardCol</a> (unsigned char nibble)</td></tr>
<tr class="separator:a157ee05ac709769f0d39507d68664c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9680d79085dd6721505773437f50299"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#ab9680d79085dd6721505773437f50299">ReadKeyboardRow</a> (void)</td></tr>
<tr class="separator:ab9680d79085dd6721505773437f50299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Display functions</div></td></tr>
<tr class="memitem:a621efee872a572eb2090283fce3fc673"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#a621efee872a572eb2090283fce3fc673">SendDisplayNibble</a> (unsigned char byte, unsigned char instruction_or_data)</td></tr>
<tr class="separator:a621efee872a572eb2090283fce3fc673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f32f971f0a2fad118749c6b9903da0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#a53f32f971f0a2fad118749c6b9903da0">SendDisplayByte</a> (unsigned char byte, unsigned char instruction_or_data)</td></tr>
<tr class="separator:a53f32f971f0a2fad118749c6b9903da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1a8bd052f9f1766e740e91788c86b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#aab1a8bd052f9f1766e740e91788c86b0">InitDisplayPort</a> (void)</td></tr>
<tr class="separator:aab1a8bd052f9f1766e740e91788c86b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab18867236f960ae1dc920b548cf5ccb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#ab18867236f960ae1dc920b548cf5ccb5">ClearDisplay</a> (void)</td></tr>
<tr class="separator:ab18867236f960ae1dc920b548cf5ccb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7093a0abf2bcb2766a3a8900f56cb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#aeb7093a0abf2bcb2766a3a8900f56cb1">TurnCursorOnOff</a> (short int On)</td></tr>
<tr class="separator:aeb7093a0abf2bcb2766a3a8900f56cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52994635e7249bfc712c4df23c9421a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#aa52994635e7249bfc712c4df23c9421a">SetPrintPosition</a> (short int line, short int char_pos)</td></tr>
<tr class="separator:aa52994635e7249bfc712c4df23c9421a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43a32dad63df05f21d3b2254c96f36d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#ad43a32dad63df05f21d3b2254c96f36d">PrintChar</a> (char ch)</td></tr>
<tr class="separator:ad43a32dad63df05f21d3b2254c96f36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Sundry functions</div></td></tr>
<tr class="memitem:a64a9259f5893f702dcda53dd4e4d07d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#a64a9259f5893f702dcda53dd4e4d07d0">InitAllOther</a> (void)</td></tr>
<tr class="separator:a64a9259f5893f702dcda53dd4e4d07d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c0962f8db180ce5ab678b22969042a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#a9c0962f8db180ce5ab678b22969042a4">InitAllHardware</a> (void)</td></tr>
<tr class="separator:a9c0962f8db180ce5ab678b22969042a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb6a6308aaeb7ed4c2816954c9f6e07e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#abb6a6308aaeb7ed4c2816954c9f6e07e">WaitMicrosec</a> (long int wait_microsecs)</td></tr>
<tr class="separator:abb6a6308aaeb7ed4c2816954c9f6e07e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Flash memory functions</h2></td></tr>
<tr class="memitem:a37709e23be8389d8de5b5aa362fb1a5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#a37709e23be8389d8de5b5aa362fb1a5e">ANSWER_FLASH_ADDRESS</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a37709e23be8389d8de5b5aa362fb1a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfb15ebe58549117d808383513ee5cc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#acfb15ebe58549117d808383513ee5cc8">InitFlash</a> (void)</td></tr>
<tr class="separator:acfb15ebe58549117d808383513ee5cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6ad984580bcb264b0345018cdf014d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#a2d6ad984580bcb264b0345018cdf014d">WriteDoubleToFlash</a> (double number)</td></tr>
<tr class="separator:a2d6ad984580bcb264b0345018cdf014d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c2b7ffb5c2e37cc1ecb70206fe3976b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="low__level__funcs__tiva_8h.html#a8c2b7ffb5c2e37cc1ecb70206fe3976b">ReadDoubleFromFlash</a> (void)</td></tr>
<tr class="separator:a8c2b7ffb5c2e37cc1ecb70206fe3976b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Set of functions at the bottom level for the 3662 calculator mini-project. These are the hardware drivers.</p>
<p>This .h file defines the functions which you might write. This is different from modules <em>high_level_funcs</em> and <em>mid_level_funcs</em>. In those modules, all the functions were needed. In this module, however, you might not choose to write all the functions. If you decide not to use the flash memory you need not write the functions which handle the flash. If you don't use functions, leave them empty as they were when you downloaded them. Do not delete them, or the software which examines the programs which you submit might not work.</p>
<p>Your functions must stick to these specifications: the function name, parameters (order, type and what they mean), return type (if any) and what the function does. You will be marked (amongst other things) on whether your functions meet these specifications. Thus you must not modify any of the function definitions here, though you may add other definitions of your own (e.g. to make the display blink). You may, however, modify the definition of the <em>#define</em> constant <em>ANSWER_FLASH_ADDRESS</em>.</p>
<dl class="section note"><dt>Note</dt><dd>As part of this <em>low_level_funcs_tiva</em> module, you will have to define all the <em>#define</em> constants that specify port addresses, what goes in various registers, and so on. However, these must not be in this <a class="el" href="low__level__funcs__tiva_8h.html">low_level_funcs_tiva.h</a> file; they must be in low_level_funcs_tiva.c. This is because the .h file specifies how its functions should be called, i.e. what it does but not how it does it. These <em>#define</em> constants are purely internal to this module, so they do not belong in the .h file</dd></dl>
<p>Dr Chris Trayner, 2019 September </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a37709e23be8389d8de5b5aa362fb1a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37709e23be8389d8de5b5aa362fb1a5e">&#9670;&nbsp;</a></span>ANSWER_FLASH_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANSWER_FLASH_ADDRESS&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Address in flash where the previous answer is stored.</p>
<p>It is up to the prorammer to choose a value for this. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab18867236f960ae1dc920b548cf5ccb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab18867236f960ae1dc920b548cf5ccb5">&#9670;&nbsp;</a></span>ClearDisplay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClearDisplay </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the display.</p>
<p>The only real requirement is that there is no information left on the display. Whatever the hardware-specific Clear Display instruction does will be satisfactory. </p>

</div>
</div>
<a id="a9c0962f8db180ce5ab678b22969042a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c0962f8db180ce5ab678b22969042a4">&#9670;&nbsp;</a></span>InitAllHardware()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitAllHardware </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise everything.</p>
<p>This will probably call other init functions rather than handling the hardware itself. </p>

</div>
</div>
<a id="a64a9259f5893f702dcda53dd4e4d07d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a9259f5893f702dcda53dd4e4d07d0">&#9670;&nbsp;</a></span>InitAllOther()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitAllOther </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise everything other than keyboard, display and flash. </p>

</div>
</div>
<a id="aab1a8bd052f9f1766e740e91788c86b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab1a8bd052f9f1766e740e91788c86b0">&#9670;&nbsp;</a></span>InitDisplayPort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitDisplayPort </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This should perform all the initialisation specific to the port used for output to the LCD display.</p>
<p>There are many functions of the Hitachi HD44780U display (e.g. setting cursor mode, setting entry mode, setting display on) which only need to be called once at the start, and with standard values. They can be called from within this function rather than inventing separate functions like <em>SetEntryMode()</em>. </p>

</div>
</div>
<a id="acfb15ebe58549117d808383513ee5cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfb15ebe58549117d808383513ee5cc8">&#9670;&nbsp;</a></span>InitFlash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitFlash </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise flash memory. </p>

</div>
</div>
<a id="a16812cd5e683764a97364fe31cafaf2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16812cd5e683764a97364fe31cafaf2a">&#9670;&nbsp;</a></span>InitKeyboardPorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitKeyboardPorts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This should perform all the initialisation specific to the two ports used for output to the keyboard columns and input from their rows. </p>

</div>
</div>
<a id="ad43a32dad63df05f21d3b2254c96f36d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad43a32dad63df05f21d3b2254c96f36d">&#9670;&nbsp;</a></span>PrintChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrintChar </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a character at the current position, then increment that position ready for any following character.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">char</td><td>The character to be displayed.</td></tr>
  </table>
  </dd>
</dl>
<p>Note: the Hitachi HD44780U automatically performs the display position increment.</p>
<p>This autoinrement can leave the next print position beyond the end of the display, so extra marks will be given for software that checks for valid position before sending the character to the display. </p>

</div>
</div>
<a id="a8c2b7ffb5c2e37cc1ecb70206fe3976b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c2b7ffb5c2e37cc1ecb70206fe3976b">&#9670;&nbsp;</a></span>ReadDoubleFromFlash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ReadDoubleFromFlash </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a double-precision floating point number from flash memory.</p>
<dl class="section return"><dt>Returns</dt><dd>The number read.</dd></dl>
<p>Read it from the address ANSWER_FLASH_ADDRESS. </p>

</div>
</div>
<a id="ab9680d79085dd6721505773437f50299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9680d79085dd6721505773437f50299">&#9670;&nbsp;</a></span>ReadKeyboardRow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char ReadKeyboardRow </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read one row to see which (if any) of its key(s) has/have been pressed.</p>
<p>This should read the four bits allocated to the input from the keyboard rows. These four bits should be returned as the least four bits of the result. The other four bits should be set to zero. The allocation of bits of the nibble to rows is:</p><ul>
<li>top (keys 1,2,3,A) is bit 3 (0x8);</li>
<li>next (4,5,6,B) is bit 2 (0x4);</li>
<li>next (7,8,9,C) is bit 1 (0x2);</li>
<li>bottom (*,0,#,D) is bit 0 (0x1).</li>
</ul>
<p>The use of this function assumes that <a class="el" href="low__level__funcs__tiva_8h.html#a16812cd5e683764a97364fe31cafaf2a">InitKeyboardPorts()</a> and <a class="el" href="low__level__funcs__tiva_8h.html#a157ee05ac709769f0d39507d68664c82">WriteKeyboardCol()</a> have already been called. </p>

</div>
</div>
<a id="a53f32f971f0a2fad118749c6b9903da0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f32f971f0a2fad118749c6b9903da0">&#9670;&nbsp;</a></span>SendDisplayByte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendDisplayByte </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>instruction_or_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send one byte of data or an instruction to the display.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">byte</td><td>The byte to be sent. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">instruction_or_data</td><td>0 for instruction, 1 for data (i.e. text to display).</td></tr>
  </table>
  </dd>
</dl>
<p>Send the byte to the port (as two nibbles), waiting the appropriate time after each send.</p>
<p>A wait of at least 550 ns is needed between the two nibbles. This is because the second EN pulse must not start until at least 1000 ns after the first one starts.</p>
<p>A delay of 37 microseconds is needed after the second nibble. This is to allow the display to process the byte.</p>
<p>This function can be used by almost all of the other display operations. (The exception is in <a class="el" href="low__level__funcs__tiva_8h.html#aab1a8bd052f9f1766e740e91788c86b0">InitDisplayPort()</a>, where some early instructions have unusual timing and format.)</p>
<dl class="section note"><dt>Note</dt><dd>The parameter is <em>unsigned</em> <em>char</em>, which is really a shorthand for an unsigned 8-bit integer. This is a misnomer: a <em>char</em> is a representation of ink on paper, and sign (+/-) is an irrelevant concept. </dd></dl>

</div>
</div>
<a id="a621efee872a572eb2090283fce3fc673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a621efee872a572eb2090283fce3fc673">&#9670;&nbsp;</a></span>SendDisplayNibble()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendDisplayNibble </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>instruction_or_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send one nibble of data or an instruction to the display.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nibble</td><td>The nibble to be sent. It must be in the least four significant bits of the char. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">instruction_or_data</td><td>0 for instruction, 1 for data (i.e. text to display).</td></tr>
  </table>
  </dd>
</dl>
<p>This must</p><ol type="1">
<li>shift the nibble into the correct four port bits</li>
<li>send the bits</li>
<li>change EN to 1</li>
<li>wait 450 ns</li>
<li>change EN to 0.</li>
</ol>
<p>Note that the other delays (e.g. 37 microseconds for sending instructions or data) are not performed here. They are performed by functions calling this one. </p>

</div>
</div>
<a id="aa52994635e7249bfc712c4df23c9421a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52994635e7249bfc712c4df23c9421a">&#9670;&nbsp;</a></span>SetPrintPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetPrintPosition </td>
          <td>(</td>
          <td class="paramtype">short int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short int&#160;</td>
          <td class="paramname"><em>char_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the print position for the next character printed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">line</td><td>The line number, 1 for top or 2 for bottom. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">char_pos</td><td>The character position, counting from 1 at the left to 16 at the right.</td></tr>
  </table>
  </dd>
</dl>
<p>Extra marks will be given for software which checks that the parameters are within range. (What to do with invalid parameters is another question ...)</p>
<p>Note that these parameters count from 1, but the Hitachi HD44780U addresses count from 0. </p>

</div>
</div>
<a id="aeb7093a0abf2bcb2766a3a8900f56cb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb7093a0abf2bcb2766a3a8900f56cb1">&#9670;&nbsp;</a></span>TurnCursorOnOff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TurnCursorOnOff </td>
          <td>(</td>
          <td class="paramtype">short int&#160;</td>
          <td class="paramname"><em>On</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turn the cursor on or off.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">On</td><td>0 for off, any non-zero quantity for on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abb6a6308aaeb7ed4c2816954c9f6e07e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb6a6308aaeb7ed4c2816954c9f6e07e">&#9670;&nbsp;</a></span>WaitMicrosec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WaitMicrosec </td>
          <td>(</td>
          <td class="paramtype">long int&#160;</td>
          <td class="paramname"><em>wait_microsecs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait a specified number of microseconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">wait_microsecs</td><td>The time (in microseconds) to delay. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2d6ad984580bcb264b0345018cdf014d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d6ad984580bcb264b0345018cdf014d">&#9670;&nbsp;</a></span>WriteDoubleToFlash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteDoubleToFlash </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a double-precision floating point number to flash memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">number</td><td>The number to store.</td></tr>
  </table>
  </dd>
</dl>
<p>Store it in the address ANSWER_FLASH_ADDRESS. </p>

</div>
</div>
<a id="a157ee05ac709769f0d39507d68664c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157ee05ac709769f0d39507d68664c82">&#9670;&nbsp;</a></span>WriteKeyboardCol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteKeyboardCol </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>nibble</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Select which column will be examined when the rows are read by <a class="el" href="low__level__funcs__tiva_8h.html#ab9680d79085dd6721505773437f50299">ReadKeyboardRow()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nibble</td><td>The 4-bit quantity to write. Exactly one bit of this should be set.</td></tr>
  </table>
  </dd>
</dl>
<p>This should write a nibble (4-bit quantity) to the four bits allocated to the keyboard columns. The quantity output should be the least significant four bits of the parameter. The other four bits should be ignored (and are thus harmless if set). The allocation of bits of the nibble to columns is:</p><ul>
<li>leftmost (keys 1,4,7,*) is bit 3 (0x8);</li>
<li>next (2,5,8,0) is bit 2 (0x4);</li>
<li>next (3,6,9.#) is bit 1 (0x2);</li>
<li>rightmost (A,B,C,D) is bit 0 (0x1).</li>
</ul>
<p>Extra marks will be awarded for software which checks that exactly one bit has been set.</p>
<p>The use of this function assumes that <a class="el" href="low__level__funcs__tiva_8h.html#a16812cd5e683764a97364fe31cafaf2a">InitKeyboardPorts()</a> has already been called. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 8 2019 16:29:25 for ELEC/XJEL3662 Calculator project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
