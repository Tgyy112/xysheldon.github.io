<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ELEC/XJEL3662 Calculator project: main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ELEC/XJEL3662 Calculator project
   &#160;<span id="projectnumber">2019/20 (software v1.04)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="high__level__funcs_8h_source.html">high_level_funcs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="low__level__funcs__tiva_8h_source.html">low_level_funcs_tiva.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="calculate__answer_8h_source.html">calculate_answer.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa9b8dcc02cea15aab8e3d0b7860327a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aa9b8dcc02cea15aab8e3d0b7860327a7">INPUT_BUFFER_SIZE</a>&#160;&#160;&#160;17</td></tr>
<tr class="separator:aa9b8dcc02cea15aab8e3d0b7860327a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Top level program for the 3362 calculator mini-project.</p>
<p>This program is written for you. You must not modify this file (except for the constant <em>INPUT_BUFFER_SIZE</em>, which you may change). If you make any other changes, the software which tests your code may fail and you will probably lose many marks.</p>
<p>There is a further detail worth explaining. If the user presses the equals key immediately, i.e. with no calculation entered, the calculator displays the last calculated value. While the calculator remains turned on, this only requires the first <em>if</em> statement inside the loop. However, there is an optional feature which you can add for extra marks if you wish. This is to record the value of the calculation in the processor's flash memory. When the calculator is turned off and then on again, this is read from flash and displayed. This is accomplished with the two commands WriteFloatToFlash() and ReadFloatFromFlash() in the code below. These are both in the module <em>low_level_funcs_tiva</em>. Handling flash memory is a bit complicated, so if you want to write this extra code you are recommended to leave it until the rest of your project is working. If you do not want to write it, you need not modify any code. The two calls here will call the functions, which exist in <em>low_level_funcs_tiva</em> but do nothing. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa9b8dcc02cea15aab8e3d0b7860327a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9b8dcc02cea15aab8e3d0b7860327a7">&#9670;&nbsp;</a></span>INPUT_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INPUT_BUFFER_SIZE&#160;&#160;&#160;17</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of the array of input chars typed by the user.</p>
<p>As the user presses keys, what they type is entered into an input buffer: a <em>char</em> array used as a C-format string. <em>INPUT_BUFFER_SIZE</em> is this array's size, and includes space for the trailing null.</p>
<p>You must choose the size of this array, though 17 (one more than the number of characters on a display line) is the easiest choice. The size will depend on the quality of your input handling, specifically the maximum number of characters the user can type before they press the equals key to perform the calculation.</p><ul>
<li>The simplest is to limit the input size to one display line. The input is simply echoed on one line.</li>
<li>More input can be allowed if the echoed characters overflow from the first display line onto the second.</li>
<li>Far more input can be allowed if, once the display line(s) is/are full, it/they scroll allowing more input to be typed at the end. (This means that the first input will be invisible.) This requires more complicated software. <em>INPUT_BUFFER_SIZE</em> can now be arbitrarily large; the actual value is a programmer's decision. </li>
</ul>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The entry point when the program is run.</p>
<p>This is written for you, as it implements the overall strategy (the top-level design) of the program, which has been dictated to you. You must not change it.</p>
<p>Actually, its design is more or less inevitable. After initialising everything it goes into an infinite loop. This reads from keyboard, calls the calculation function to do the mathematical bit, then displays the result.</p>
<p>It calls the various functions which do the real work, all but one of which are written by you. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 8 2019 16:29:25 for ELEC/XJEL3662 Calculator project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
